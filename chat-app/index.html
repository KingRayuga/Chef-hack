<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="./popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
  <title>Ninja Chat</title>
</head>
<body>

<!-- container & title -->


<div class="container">
  <h1 class="text-center">The Online Cafe Chat</h1>
  <!-- buttons for chatrooms -->
  <div class="chat-rooms mb-3 text-center">
    <div class="my-2">Choose a chatroom:</div>
    <button class="btn btn-outline-danger" id="general">#general</button>
    <button class="btn btn-outline-danger" id="gaming">#Customer-Complaint</button>
  </div>
  <!-- chat list / window -->
  <div class="chat-window">
    <ul class="chat-list list-group"></ul>
  </div>
  <!-- new chat form -->
  <form class="new-chat my-3">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">Your message:</div>
      </div>
      <input type="text" id="message" class="form-control" required>
      <div class="input-group-append">
        <input type="submit" class="btn btn-success" value="send">
      </div>
    </div>
  </form>
  <!-- update name form -->
  <form class="new-name my-3">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">Update name:</div>
      </div>
      <input type="text" id="name" class="form-control" required>
      <div class="input-group-append">
        <input type="submit" class="btn btn-success" value="update">
      </div>
    </div>
    <div class="update-mssg"></div>
  </form>
  <button class="btn btn-outline-primary back" id = "button"><a href = "../customer/popup.html">Back to home</a></button>
</div>

<script src="http://cdn.date-fns.org/v1.9.0/date_fns.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-firestore.js"></script>


<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyDJQsEAUFYLhhw1yr09fAn7vR92JeljTsY",
    authDomain: "realtime-chat-b0687.firebaseapp.com",
    databaseURL: "https://realtime-chat-b0687.firebaseio.com",
    projectId: "realtime-chat-b0687",
    storageBucket: "realtime-chat-b0687.appspot.com",
    messagingSenderId: "636376499319",
    appId: "1:636376499319:web:b9b3ca131c03b82cefb272",
    measurementId: "G-5Q0DMSZW73"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  //firebase.analytics();
  const db = firebase.firestore();

</script>

<script src="scripts/chat.js"></script>
<script src="scripts/ui.js"></script>
<script src="scripts/app.js"></script>
<script>
  const stars=document.querySelectorAll(".star");
  const output=document.querySelector("p");
  let IdValue;
  for(x=0;x<stars.length;x++){
    stars[x].starvalue=x+1;
    ["click","mouseover","mouseout"].forEach(function(e){
      stars[x].addEventListener(e,showrating);

    })
  }
  function showrating(e){
    let type=e.type;
    starvalue=this.starvalue;
    IdValue=starvalue;
    if(type==="click"){
      if(starvalue>= 1)
      {
        feedBack(starvalue);

      }
    }
    stars.forEach(function(element,index){
      if(type==="click"){
        if(index<starvalue){
          element.classList.add("orange");

        }
        else{
          element.classList.remove("orange");
        }
      }
      else if(type==="mouseover"){

        if(index<starvalue){
          element.classList.add("yellow");
        }
        else{
          element.classList.remove("yellow");
        }

      }
      if(type==="mouseout"){

        element.classList.remove("yellow");


      }
    })
  }

  function feedBack(starvalue){

    if(starvalue==1){
      output.innerHTML="&#128545"+"Very Bad!!"+"&#128545";
    }
    else if(starvalue==2){
      output.innerHTML="&#128532"+"Tolerrable!!"+"&#128532";
    }
    else if(starvalue==3){
      output.innerHTML="&#128528"+"Fair!!"+"&#128528";
    }
    else if(starvalue==4){
      output.innerHTML="&#128578"+"Excellent!!"+"&#128578";
    }
    else if(starvalue==5){
      output.innerHTML="&#128512"+"Awesome!!"+"&#128512";
    }

  }
  function getValue(){
    //alert(IdValue);

  }
  function Close(){
    document.querySelector('.main').style.display = "none";

  }

  document.getElementById('buttons').addEventListener("click", function() {
    document.querySelector('.main').style.display = "block";

  });

  document.addEventListener('mouseup', function(e) {
    var container = document.querySelector('#id01');
    if (!container.contains(e.target)) {
      document.querySelector(".main").style.display = 'none';
    }
  });
</script>
</body>
</html>
